<!DOCTYPE html>
<html lang="en"><head>
<script src="Quarto Bank Marketing Pierre et Karl_files/libs/clipboard/clipboard.min.js"></script>
<script src="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/tabby.min.js"></script>
<script src="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/popper.min.js"></script>
<script src="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Quarto Bank Marketing Pierre et Karl_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Pierre Jean &amp; Karl Sondeji">
  <title>Machine learning Project</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/dist/theme/quarto-ee9ab3830bbe7759b42dda8416faf5cd.css">
  <link rel="stylesheet" href="styles.css">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="Quarto Bank Marketing Pierre et Karl_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#43464B" data-background-image="ampoule.jpg" data-background-size="100% 135%" class="quarto-title-block center">
  <h1 class="title">Machine learning Project</h1>
  <p class="subtitle">Bank Marketing</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Pierre Jean &amp; Karl Sondeji 
</div>
        <p class="quarto-title-affiliation">
            Université De Tours
          </p>
    </div>
</div>

</section>
<section class="slide level2">

<p><img data-src="logouniv.png" class="absolute" style="top: 180px; left: 35px; width: 300px; height: 200px; "></p>
<p><img data-src="logomecen.png" class="absolute" style="top: 160px; right: 65px; width: 250px; "></p>
<p><br></p>
<div class="absolute" style="bottom: 80px; right: 250px; ">
<p>Pierre Jean et Karl Sondeji</p>
</div>
<div class="absolute" style="bottom: 40px; right: 160px; ">
<pre><code>Supervisé par: Julie Scholler et Franck Piller</code></pre>
</div>
<div class="absolute" style="bottom: 0px; right: 50px; ">
<pre><code>01 Mars 2023 (updated: 2025-09-15)</code></pre>
</div>
<p><br></p>
</section>
<section>
<section id="présentation-de-la-base-de-données" class="title-slide slide level1 center" data-transition="zooom">
<h1>Présentation de la base de données</h1>
<div class="fragment fade-right">
<ul>
<li>Présentation de la base de données sur les cibles marketing</li>
</ul>
</div>
<div class="fragment fade-in">
<ul>
<li>Importation des données</li>
</ul>
</div>
<div class="fragment fade-up">
<ul>
<li>Visualisation des données manquantes</li>
</ul>
</div>
<div class="fragment fade-left">
<ul>
<li>Restucturation de notre base de données</li>
</ul>
</div>
</section>
<section id="présentation-de-la-base-de-données-1" class="slide level2" data-transition="zooom">
<h2>Présentation de la base de données</h2>
<div class="smaller" style="&quot;font-size:0.7em;">
<p>Les données sont liées à des campagnes de marketing direct (par appels téléphoniques) d’une institution bancaire portugaise. Ces campagnes nécessitant d’énormes investissements, il est vital pour les banques d’identifier au préalable les clients les plus susceptibles de souscrire, afin de les cibler en priorité.</p>
<ul>
<li>echantillon d’entraînement <strong>train</strong> : 17 colonnes et 45211 observations</li>
<li>echantillon test <strong>test</strong> : 17 colonnes et 4521 observations</li>
</ul>
</div>
</section>
<section class="slide level2">

<div id=".smaller" style="&quot;font-size:0.7em;">
<p>Concernant les variables:</p>
<ul>
<li><p>age (numérique)</p></li>
<li><p>job : type d’emploi (catégorielle: <code>admin.</code>,<code>unknown</code>,<code>unemployed</code>,<code>management</code>,<code>housemaid</code>,<code>entrepreneur</code>,<code>student</code>, <code>blue-collar</code>,<code>self-employed</code>,<code>retired</code>,<code>technician</code>,<code>services</code>)</p></li>
<li><p>marital : marital status (catégorielle: <code>married</code>,<code>divorced</code>,<code>single</code>; à noter: <code>divorced</code> signifie divorcé ou veuf)</p></li>
<li><p>education (catégorielle: <code>unknown</code>,<code>secondary</code>,<code>primary</code>,<code>tertiary</code>)</p></li>
<li><p>default: la personne est elle en défaut de crédit? (binaire: <code>yes</code>,<code>no</code>)</p></li>
<li><p>balance: moyenne de l’équilibre annuel, en euros (numérique)</p></li>
<li><p>housing: la personne a-t-elle un crédit immobilier? (binaire: <code>yes</code>,<code>no</code>)</p></li>
<li><p>loan: la personne a-t-elle un emprunt? (binaire: <code>yes</code>,<code>no</code>)</p></li>
<li><p>contact: manière dont la personne a été contactée (catégorielle: <code>unknown</code>,<code>telephone</code>,<code>cellular</code>)</p></li>
<li><p>day: dernier jour contacté dans le mois (numérique)</p></li>
<li><p>month: dernier mois contacté au cours de l’année (catégorielle: <code>jan</code>, <code>feb</code>, <code>mar</code>, …, <code>nov</code>, <code>dec</code>)</p></li>
</ul>
</div>
</section>
<section class="slide level2">

<div class="smaller" style="&quot;font-size:0.7em;">
<ul>
<li><p>duration: durée du dernier appel, en secondes (numérique)</p></li>
<li><p>campaign: nombre d’appels réalisés au cours de cette campagne, pour ce client. (numérique, dernier appel inclu)</p></li>
<li><p>pdays: nombre de jours qui se sont écoulés depuis que le client a été contacté pour la dernière fois lors d’une campagne précédente (numérique, -1 signifie que le client n’a pas été préalablement contacté)</p></li>
<li><p>previous: nombre d’appels réalisés avant cette campagne pour ce client (numérique)</p></li>
<li><p>poutcome: résultat de la campagne marketing précédente (catégorielle: <code>unknown</code>,<code>other</code>,<code>failure</code>,<code>success</code>)</p></li>
</ul>
<p>variable endogène (cible désirée): - y : le client a souscrit à un dépôt à terme? (binaire: <code>yes</code>,<code>no</code>)</p>
</div>
</section>
<section id="importation-des-données" class="slide level2 smaller" data-transition="concave">
<h2>Importation des données</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   45211 obs. of  17 variables:
 $ age      : int  58 44 33 47 33 35 28 42 58 43 ...
 $ job      : chr  "management" "technician" "entrepreneur" "blue-collar" ...
 $ marital  : chr  "married" "single" "married" "married" ...
 $ education: chr  "tertiary" "secondary" "secondary" "unknown" ...
 $ default  : chr  "no" "no" "no" "no" ...
 $ balance  : int  2143 29 2 1506 1 231 447 2 121 593 ...
 $ housing  : chr  "yes" "yes" "yes" "yes" ...
 $ loan     : chr  "no" "no" "yes" "no" ...
 $ contact  : chr  "unknown" "unknown" "unknown" "unknown" ...
 $ day      : int  5 5 5 5 5 5 5 5 5 5 ...
 $ month    : chr  "may" "may" "may" "may" ...
 $ duration : int  261 151 76 92 198 139 217 380 50 55 ...
 $ campaign : int  1 1 1 1 1 1 1 1 1 1 ...
 $ pdays    : int  -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 ...
 $ previous : int  0 0 0 0 0 0 0 0 0 0 ...
 $ poutcome : chr  "unknown" "unknown" "unknown" "unknown" ...
 $ y        : chr  "no" "no" "no" "no" ...</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
<p>Nous décidons de procéder brièvement à une petite analyse concernant les données manquantes de notre base de données. Pour cela, nous avons représenté dans un tableau le nombre d’observations où figurent des données manquantes. Puis, à l’aide d’une représentation graphique, nous pourrons regarder quelles variables ont le plus de valeurs manquantes.</p>
</section>
<section id="analyse-des-donées-manquantes" class="slide level2 smaller" data-transition="concave">
<h2>Analyse des donées manquantes</h2>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><ul>
<li>À première vue, on pourrait croire que notre base de données ne contient pas de valeurs manquantes, mais c’est simplement qu’elles ont été codées par “unknown”. Il va donc falloir faire en sorte que le logiciel traite ces variables comme manquantes. On voit également sur ce graphique que toutes nos données non-numériques sont traitées comme des caractères, or pour faire des calculs ce n’est pas pratique.</li>
</ul>
</section>
<section id="restructuration-de-notre-base-de-données" class="slide level2 smaller" data-transition="zooom">
<h2>Restructuration de notre base de données</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="co"># Transformations des variables catégorielles jusqu'à lors considérées comme des caractères en facteurs</span></span>
<span id="cb5-2"><a href=""></a>data<span class="sc">$</span>marital <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>marital, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'single'</span>, <span class="st">'divorced'</span>, <span class="st">'married'</span>))</span>
<span id="cb5-3"><a href=""></a>data<span class="sc">$</span>education <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>education, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'unknown'</span>, <span class="st">'primary'</span>, <span class="st">'secondary'</span>, <span class="st">'tertiary'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co"># on recode les variables de la base </span></span>
<span id="cb6-2"><a href=""></a>data<span class="sc">$</span>job <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(data<span class="sc">$</span>job, <span class="at">NULL =</span> <span class="st">"unknown"</span>)</span>
<span id="cb6-3"><a href=""></a>data<span class="sc">$</span>education <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(data<span class="sc">$</span>education, <span class="at">NULL =</span> <span class="st">"unknown"</span>)</span>
<span id="cb6-4"><a href=""></a>data<span class="sc">$</span>default <span class="ot">&lt;-</span> <span class="fu">recode_factor</span>(data<span class="sc">$</span>default, <span class="st">"yes"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"no"</span> <span class="ot">=</span> <span class="st">"0"</span>)</span>
<span id="cb6-5"><a href=""></a>data<span class="sc">$</span>housing <span class="ot">&lt;-</span> <span class="fu">recode_factor</span>(data<span class="sc">$</span>housing, <span class="st">"yes"</span> <span class="ot">=</span> <span class="st">"1"</span>, <span class="st">"no"</span> <span class="ot">=</span> <span class="st">"0"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ainsi, après recodage, parmi les 45211 observations contenues dans notre base de données, 0 observations sont manquantes. Nous pouvons constater que ces données manquantes se concentrent autour des variables : <code>Poutcome</code> et <code>contact</code>. Ces informations nous indiquent que l’on n’a pas beaucoup d’informations sur les résultats des campagnes précédentes, et qu’on ne sait pas non plus comment 1/3 des clients ont été contactés durant cette campagne.</p>
<p><br></p>
</section>
<section class="slide level2">

<p>Quelques statistiques sur notre base de données</p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>      age                 job           marital          education    
 Min.   :18.00   blue-collar:9732   single  :12790   unknown  : 1857  
 1st Qu.:33.00   management :9458   divorced: 5207   primary  : 6851  
 Median :39.00   technician :7597   married :27214   secondary:23202  
 Mean   :40.94   admin.     :5171                    tertiary :13301  
 3rd Qu.:48.00   services   :4154                                     
 Max.   :95.00   retired    :2264                                     
                 (Other)    :6835                                     
 default        balance       housing      loan            contact     
 no :44396   Min.   : -8019   no :20081   no :37967   unknown  :13020  
 yes:  815   1st Qu.:    72   yes:25130   yes: 7244   cellular :29285  
             Median :   448                           telephone: 2906  
             Mean   :  1362                                            
             3rd Qu.:  1428                                            
             Max.   :102127                                            
                                                                       
      day            month          duration         campaign     
 Min.   : 1.00   may    :13766   Min.   :   0.0   Min.   : 1.000  
 1st Qu.: 8.00   jul    : 6895   1st Qu.: 103.0   1st Qu.: 1.000  
 Median :16.00   aug    : 6247   Median : 180.0   Median : 2.000  
 Mean   :15.81   jun    : 5341   Mean   : 258.2   Mean   : 2.764  
 3rd Qu.:21.00   nov    : 3970   3rd Qu.: 319.0   3rd Qu.: 3.000  
 Max.   :31.00   apr    : 2932   Max.   :4918.0   Max.   :63.000  
                 (Other): 6060                                    
     pdays          previous           poutcome       y        
 Min.   : -1.0   Min.   :  0.0000   unknown:36959   no :39922  
 1st Qu.: -1.0   1st Qu.:  0.0000   other  : 1840   yes: 5289  
 Median : -1.0   Median :  0.0000   failure: 4901              
 Mean   : 40.2   Mean   :  0.5803   success: 1511              
 3rd Qu.: -1.0   3rd Qu.:  0.0000                              
 Max.   :871.0   Max.   :275.0000                              
                                                               </code></pre>
</div>
</div>
<p>On se rend compte que la modalité <strong>yes</strong> de notre variable <code>y</code> est sous représentée, 11.7% de nos données.</p>
</section>
<section id="visualisation-de-nos-données" class="slide level2" data-transition="fade">
<h2>Visualisation de nos données</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Partie 1</a></li><li><a href="#tabset-1-2">Partie 2</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-14-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-15-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-16-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section></section>
<section>
<section id="problématique" class="title-slide slide level1 center" data-transition="slide">
<h1>Problématique</h1>
<div class="fragment" style="color: brown;">
<p>Au travers de cette étude, nous allons chercher à voir comment, au moyen de méthodes de machine learning, nous allons pouvoir identifier les caractéristiques propres des groupes constituants notre clientèle, de sorte à pouvoir prédire au mieux si un client souscrira à un dépôt à terme.</p>
</div>
</section>
<section id="le-problème" class="slide level2" data-transition="slide">
<h2>Le problème</h2>
<p>Dans la suite de ce TP, on utilisera systématiquement l’algorithme SMOTE pour corriger le sur’échantillonnage de la modalité <strong>yes</strong>.</p>
</section></section>
<section>
<section id="knn" class="title-slide slide level1 center" data-transition="zooom">
<h1>KNN</h1>
<!-- ::: panel-tabset -->
<!-- ### Significativité -->
<!-- ### knn.3 -->
<!-- ### opti -->
<!-- ### knn.17 -->
<!-- ::: -->
</section>
<section id="significativité" class="slide level2" data-transition="slide">
<h2>Significativité</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "age"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1582 -0.1216 -0.1140 -0.1094  0.9005 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.0858166  0.0060184  180.42  &lt; 2e-16 ***
knn_df1[, i] 0.0007614  0.0001423    5.35 8.83e-08 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3213 on 45209 degrees of freedom
Multiple R-squared:  0.0006328, Adjusted R-squared:  0.0006107 
F-statistic: 28.63 on 1 and 45209 DF,  p-value: 8.826e-08

[1] "job"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1583 -0.1236 -0.1098 -0.1028  0.9180 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.0750988  0.0038450  279.61   &lt;2e-16 ***
knn_df1[, i] 0.0069335  0.0005854   11.84   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3209 on 45209 degrees of freedom
Multiple R-squared:  0.003093,  Adjusted R-squared:  0.003071 
F-statistic: 140.3 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "marital"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1484 -0.1246 -0.1007 -0.1007  0.8993 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.172297   0.004231  277.08   &lt;2e-16 ***
knn_df1[, i] -0.023851   0.001705  -13.99   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3207 on 45209 degrees of freedom
Multiple R-squared:  0.004312,  Adjusted R-squared:  0.00429 
F-statistic: 195.8 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "education"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.13689 -0.13689 -0.11570 -0.09451  0.92668 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.052130   0.006122  171.85   &lt;2e-16 ***
knn_df1[, i] 0.021191   0.001939   10.93   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.321 on 45209 degrees of freedom
Multiple R-squared:  0.002636,  Adjusted R-squared:  0.002614 
F-statistic: 119.5 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "default"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1180 -0.1180 -0.1180 -0.1180  0.9362 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.17212    0.01166 100.511  &lt; 2e-16 ***
knn_df1[, i] -0.05416    0.01136  -4.768 1.87e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3213 on 45209 degrees of freedom
Multiple R-squared:  0.0005026, Adjusted R-squared:  0.0004805 
F-statistic: 22.73 on 1 and 45209 DF,  p-value: 1.866e-06

[1] "balance"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.6790 -0.1158 -0.1111 -0.1094  0.9077 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.109e+00  1.654e-03  670.86   &lt;2e-16 ***
knn_df1[, i] 5.578e-06  4.958e-07   11.25   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.321 on 45209 degrees of freedom
Multiple R-squared:  0.002792,  Adjusted R-squared:  0.00277 
F-statistic: 126.6 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "housing"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
   Min     1Q Median     3Q    Max 
-0.167 -0.167 -0.077 -0.077  0.923 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.257048   0.004920  255.48   &lt;2e-16 ***
knn_df1[, i] -0.090024   0.003013  -29.88   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3183 on 45209 degrees of freedom
Multiple R-squared:  0.01937,   Adjusted R-squared:  0.01935 
F-statistic:   893 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "loan"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.12656 -0.12656 -0.12656 -0.06681  0.93319 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.186301   0.005003  237.13   &lt;2e-16 ***
knn_df1[, i] -0.059743   0.004111  -14.53   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3207 on 45209 degrees of freedom
Multiple R-squared:  0.004649,  Adjusted R-squared:  0.004627 
F-statistic: 211.2 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "contact"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.21041 -0.13406 -0.13406 -0.05772  0.94228 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  0.981367   0.005069  193.60   &lt;2e-16 ***
knn_df1[, i] 0.076349   0.002726   28.01   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3187 on 45209 degrees of freedom
Multiple R-squared:  0.01705,   Adjusted R-squared:  0.01703 
F-statistic: 784.4 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "day"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1332 -0.1244 -0.1146 -0.1047  0.8996 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.1342891  0.0032433  349.74  &lt; 2e-16 ***
knn_df1[, i] -0.0010948  0.0001816   -6.03 1.65e-09 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3213 on 45209 degrees of freedom
Multiple R-squared:  0.0008036, Adjusted R-squared:  0.0007815 
F-statistic: 36.36 on 1 and 45209 DF,  p-value: 1.654e-09

[1] "month"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1314 -0.1210 -0.1131 -0.1105  0.8973 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.1340472  0.0036098 314.162  &lt; 2e-16 ***
knn_df1[, i] -0.0026157  0.0005026  -5.205 1.95e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3213 on 45209 degrees of freedom
Multiple R-squared:  0.0005989, Adjusted R-squared:  0.0005767 
F-statistic: 27.09 on 1 and 45209 DF,  p-value: 1.951e-07

[1] "duration"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
     Min       1Q   Median       3Q      Max 
-2.41139 -0.11641 -0.06077 -0.02434  1.00619 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  9.899e-01  1.967e-03  503.30   &lt;2e-16 ***
knn_df1[, i] 4.924e-04  5.394e-06   91.29   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2953 on 45209 degrees of freedom
Multiple R-squared:  0.1556,    Adjusted R-squared:  0.1556 
F-statistic:  8334 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "campaign"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.1304 -0.1304 -0.1228 -0.1076  1.1050 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.1379659  0.0020203   563.3   &lt;2e-16 ***
knn_df1[, i] -0.0075913  0.0004866   -15.6   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3205 on 45209 degrees of freedom
Multiple R-squared:  0.005354,  Adjusted R-squared:  0.005332 
F-statistic: 243.4 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "pdays"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-0.3932 -0.1033 -0.1033 -0.1033  0.8967 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.103e+00  1.626e-03  678.75   &lt;2e-16 ***
knn_df1[, i] 3.328e-04  1.507e-05   22.09   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3197 on 45209 degrees of freedom
Multiple R-squared:  0.01068,   Adjusted R-squared:  0.01065 
F-statistic: 487.8 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "previous"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
    Min      1Q  Median      3Q     Max 
-3.6870 -0.1094 -0.1094 -0.1094  0.8906 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.1094351  0.0015520  714.82   &lt;2e-16 ***
knn_df1[, i] 0.0130095  0.0006534   19.91   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.32 on 45209 degrees of freedom
Multiple R-squared:  0.008693,  Adjusted R-squared:  0.008671 
F-statistic: 396.4 on 1 and 45209 DF,  p-value: &lt; 2.2e-16

[1] "poutcome"

Call:
lm(formula = knn_df1[, 17] ~ knn_df1[, i], data = knn_df1)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.35043 -0.08538 -0.08538 -0.08538  0.91462 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  0.997026   0.002892  344.74   &lt;2e-16 ***
knn_df1[, i] 0.088350   0.001833   48.21   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3135 on 45209 degrees of freedom
Multiple R-squared:  0.0489,    Adjusted R-squared:  0.04888 
F-statistic:  2324 on 1 and 45209 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<ul>
<li>Matrice de confusion avec trois voisins</li>
</ul>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-25-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><p>Avec 3 voisins, on obtient une précision de 87.76.</p>
</section>
<section class="slide level2">

<p>Recherche du nombre optimal de voisins</p>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-28-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><p>Les meilleurs taux de prédiction sont obtenus avec 17 et 25 voisins, soit 88.7640449, pour la suite on choisira de conserver 17 voisins.</p>
</section>
<section class="slide level2">

<ul>
<li>Matrice de confusion avec 17 voisins</li>
</ul>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-32-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><p>Avec 17 voisins, on obtient une précision de 88.97%.</p>
<!-- le fait fait de choisir le meilleur nombre de voisins ne nous a pas fait gagner énormément en précision. -->
</section></section>
<section>
<section id="ldaqda---support-vector-machine" class="title-slide slide level1 center">
<h1>LDA/QDA - Support Vector Machine</h1>

</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">SVM linéaire</a></li><li><a href="#tabset-2-2">SVM radial</a></li><li><a href="#tabset-2-3">SVM radial ROC</a></li><li><a href="#tabset-2-4">Comparaisons</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-48-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
<p>Le modèle gagne en surface, mais l’aire en dessous de la courbe diminue.</p>
<p>Le modèle gagne en surface, mais l’aire en dessous de la courbe diminue.</p>
</div>
<div id="tabset-2-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-56-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-57-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
   cost rbf_sigma .config              
  &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;                
1    32   0.00316 Preprocessor1_Model20</code></pre>
</div>
</div>
</div>
<div id="tabset-2-4">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-62-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="cart" class="title-slide slide level1 center" data-transition="slide">
<h1>CART</h1>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-67-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section>
<section class="slide level2">

<p>Optimisation automatique avec <code>Caret</code></p>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-72-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><p>le meilleur paramètre de complexité pour cet arbre élagué est de 0.001328</p>
</section>
<section class="slide level2">

<h3 id="test-de-notre-cart-réalisé-avec-caret">Test de notre CART réalisé avec <code>Caret</code></h3>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Qualité du modèle</a></li><li><a href="#tabset-3-2">Courbe ROC</a></li><li><a href="#tabset-3-3">Métriques</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction   no  yes
       no  9189  701
       yes  354  555
                                          
               Accuracy : 0.9023          
                 95% CI : (0.8966, 0.9078)
    No Information Rate : 0.8837          
    P-Value [Acc &gt; NIR] : 3.547e-10       
                                          
                  Kappa : 0.46            
                                          
 Mcnemar's Test P-Value : &lt; 2.2e-16       
                                          
            Sensitivity : 0.9629          
            Specificity : 0.4419          
         Pos Pred Value : 0.9291          
         Neg Pred Value : 0.6106          
              Precision : 0.9291          
                 Recall : 0.9629          
                     F1 : 0.9457          
             Prevalence : 0.8837          
         Detection Rate : 0.8509          
   Detection Prevalence : 0.9158          
      Balanced Accuracy : 0.7024          
                                          
       'Positive' Class : no              
                                          </code></pre>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-84-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-85-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 id="performance">Performance</h3>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-86-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section>
<section class="slide level2">

<h3 id="optimisation-en-utilisant-roc-et-auc">Optimisation en utilisant ROC et AUC</h3>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Matrice de confusion</a></li><li><a href="#tabset-4-2">Courbe ROC</a></li><li><a href="#tabset-4-3">Performance</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table table-bordered caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; empty-cells: hide; border-bottom: hidden;"></th>
<th colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Prédiction
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: right; empty-cells: hide; border-bottom: hidden;"></th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">no</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">yes</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">no</td>
<td style="text-align: right;">9162</td>
<td style="text-align: right;">718</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">9880</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">yes</td>
<td style="text-align: right;">381</td>
<td style="text-align: right;">538</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">919</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">Sum</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">9543</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">1256</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">10799</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-99-1.png" class="quarto-figure quarto-figure-center" width="900"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-100-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-101-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section></section>
<section>
<section id="random-forest" class="title-slide slide level1 center" data-transition="zooom">
<h1>Random Forest</h1>

</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">OOB et err.rate</a></li><li><a href="#tabset-5-2">tree/error</a></li><li><a href="#tabset-5-3">Analyses</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 178 185 161 192 174 188</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 183.9201</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3678403</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>         no         yes
1 0.9943820 0.005617978
2 1.0000000 0.000000000
3 1.0000000 0.000000000
5 0.9739583 0.026041667
6 1.0000000 0.000000000
7 1.0000000 0.000000000</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>           OOB         no       yes
[1,] 0.1297992 0.08041387 0.5097765
[2,] 0.1314862 0.07505838 0.5470925
[3,] 0.1286446 0.07070030 0.5579854
[4,] 0.1244196 0.06637945 0.5574405
[5,] 0.1219937 0.06366107 0.5602797
[6,] 0.1200769 0.06203598 0.5569586</code></pre>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-112-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-3">
<p>Le OOB est est une moyenne ponderée des yes et des no donc cest normale qu’elle soit entre les deux il y a déséquillibre entre yes et no les <em>yes</em> représentent 0.117% de nos données, donc si on arrive mieux à prédire les no que les yes c’est tout simplement parce que nous ne disposont pas d’assez de <em>yes</em> dans l’échantillon d’entraînement.</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<h3 class="smaller" id="importance-des-variables">Importance des variables</h3>

<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-115-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"><ul>
<li>pas assez de variables discrimantes pour qu’on ait q=1 pertinent, c’est pourquoi on a un pic de début assez haut pour q1, on voit qu’en fonction du nbr de q le premier pic descend. random par les echantillons boostrap, et random par le bagging.</li>
</ul>
</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Profondeur</a></li><li><a href="#tabset-6-2">erreur.min</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-120-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-121-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
<div class="smaller absolute" style="bottom: 10px; ">
<p>Le nombre d’arbres minimisant l’erreur OOB est 375, qui atteint la valeur de 0.093%.</p>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Hétérogénéité et variance</a></li><li><a href="#tabset-7-2">Variables importantes</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>                 no         yes MeanDecreaseAccuracy MeanDecreaseGini
age       36.296021   8.5318012            38.707699        650.51307
job       25.861363  -3.2125105            20.505585        462.67709
marital    5.126719  10.2062656             9.962022        135.00080
education 16.383814  -0.9791548            14.897605        137.02170
default    1.920469   3.7694590             3.788125         11.81350
balance    4.558513   5.9631854             7.128235        692.89339
housing   35.988806  15.0213193            40.089977        156.79865
loan       1.149211  11.8701533             8.415701         60.62409
day       43.146523   5.9542089            43.811518        594.63862
month     86.989040  37.0483127            91.609881        870.73722
duration  91.982655 179.1507812           163.182979       1972.12485
campaign  12.383788   6.0477047            14.038404        251.88548
pdays     28.803440  24.9758711            33.393054        398.99699
previous  14.316171  11.8174933            14.851965        165.63186</code></pre>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-127-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Meamdecrease accuracy, on regarde ce que devient l'erreur de précision qd on mélange les valeurs de c1 entre les individus et que l'on essait de repredire la valeur de ces individus -->
<!-- Meamdecrease accuracy, on utilise cette variable pour faire la scission et qu'on veut voir de combien baisse l'hétérogénéité. -->
<!-- Meamdecrease gini, mesure d'hétérogénéité dans une feuillle, on ragarde la baisse d'hétérogénéité ds une feuille. -->
<!-- l'objectif premier du dossier, bien faire la scission, appliquer chacune des methodes vues ensembles, mettre en valeurs les boservation, et finalement dire quel modèle on choisit. -->
<!-- Création/définition du workflow avec la paramètre `mtry` à optimsier. -->
</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Noeuds et précision</a></li><li><a href="#tabset-8-2">Courbe ROC</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-149-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-153-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Notre modèle semble avoir une précision sur les données de test presque suspecte.</p>
<div class="columns">
<div class="column smaller" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="table table-bordered caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; empty-cells: hide; border-bottom: hidden;"></th>
<th colspan="2" data-quarto-table-cell-role="th" style="text-align: center; border-bottom: hidden; padding-bottom: 0; padding-left: 3px; padding-right: 3px;"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Prédiction
</div></th>
<th data-quarto-table-cell-role="th" style="text-align: right; empty-cells: hide; border-bottom: hidden;"></th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">no</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">yes</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Sum</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">no</td>
<td style="text-align: right;">9888</td>
<td style="text-align: right;">532</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">10420</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">yes</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">791</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">884</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">Sum</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">9981</td>
<td style="text-align: right; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">1323</td>
<td style="text-align: right; width: 2cm; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important; font-weight: bold; background-color: rgba(244, 246, 246, 255) !important;">11304</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><div class="column smaller" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-159-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="boosting" class="title-slide slide level1 center" data-transition="concave">
<h1>Boosting</h1>

</section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">comparaison des arbres</a></li><li><a href="#tabset-9-2">Stump</a></li><li><a href="#tabset-9-3">Arbre pénalisé</a></li><li><a href="#tabset-9-4">Stump pénalisé</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ada(y ~ ., data = data_boost_train, type = "discrete", loss = "exponential", 
    control = rpart.control(cp = 0), iter = 50, nu = 1)

Loss: exponential Method: discrete   Iteration: 50 

Final Confusion Matrix for Data:
          Final Prediction
True value    no   yes
       no  29933     8
       yes    57  3909

Train Error: 0.002 

Out-Of-Bag Error:  0.009  iteration= 50 

Additional Estimates of number of iterations:

train.err1 train.kap1 
        50         50 </code></pre>
</div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ada(y ~ ., data = data_boost_train, type = "discrete", loss = "exponential", 
    control = rpart.control(maxdepth = 1, cp = -1, minsplit = 0, 
        xval = 0), iter = 50, nu = 1)

Loss: exponential Method: discrete   Iteration: 50 

Final Confusion Matrix for Data:
          Final Prediction
True value    no   yes
       no  29071   870
       yes  2541  1425

Train Error: 0.101 

Out-Of-Bag Error:  0.102  iteration= 50 

Additional Estimates of number of iterations:

train.err1 train.kap1 
        48         48 </code></pre>
</div>
</div>
</div>
<div id="tabset-9-3">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ada(y ~ ., data = data_boost_train, type = "discrete", loss = "exponential", 
    control = rpart.control(cp = 0), iter = 50, nu = 0.1)

Loss: exponential Method: discrete   Iteration: 50 

Final Confusion Matrix for Data:
          Final Prediction
True value    no   yes
       no  29841   100
       yes   536  3430

Train Error: 0.019 

Out-Of-Bag Error:  0.035  iteration= 50 

Additional Estimates of number of iterations:

train.err1 train.kap1 
        50         50 </code></pre>
</div>
</div>
</div>
<div id="tabset-9-4">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
ada(y ~ ., data = data_boost_train, type = "discrete", loss = "exponential", 
    control = rpart.control(maxdepth = 1, cp = -1, minsplit = 0, 
        xval = 0), iter = 50, nu = 0.1)

Loss: exponential Method: discrete   Iteration: 50 

Final Confusion Matrix for Data:
          Final Prediction
True value    no   yes
       no  29935     6
       yes  3941    25

Train Error: 0.116 

Out-Of-Bag Error:  0.115  iteration= 6 

Additional Estimates of number of iterations:

train.err1 train.kap1 
        50         50 </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-176-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section>
<section class="slide level2">


<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-189-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section>
<section class="slide level2">

<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Erreur apprentissage</a></li><li><a href="#tabset-10-2">Précision du modèle</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-194-1.png" class="quarto-figure quarto-figure-center" width="3000"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric  .estimator .estimate
  &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
1 accuracy binary         0.908</code></pre>
</div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>          Truth
Prediction   no  yes
       no  9625  683
       yes  356  640</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.932</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">


<img data-src="Quarto-Bank-Marketing-Pierre-et-Karl_files/figure-revealjs/unnamed-chunk-201-1.png" class="quarto-figure quarto-figure-center r-stretch" width="3000"></section></section>
<section id="conclusion" class="title-slide slide level1 center" data-transition="convex">
<h1>Conclusion</h1>
<p>Le modèle que l’on choisira est un modèle tel que le KNN qui est assez simple à mettre en place et fournit une bonne précision. Cependant, si on veut encore plus de précision, on peut opter pour un modèle de SVM radiale, un Boosting ou encore un Random forest, même si ces derniers, ayant plusieurs paramètres à optimiser sont parfois beaucoup plus long à construire.</p>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="logomecen.png" class="slide-logo"></p>
<div class="footer footer-default">
<p>Data Mining</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Quarto Bank Marketing Pierre et Karl_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'h.v',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>